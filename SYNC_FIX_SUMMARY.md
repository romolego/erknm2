# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ - –ò—Ç–æ–≥–∏

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. Retry –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –º–µ—Ç–∞-XML
- ‚úÖ –î–æ 5 –ø–æ–ø—ã—Ç–æ–∫ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã (connect: 10s, read: 60s)

### 2. –£–ª—É—á—à–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ ZIP
- ‚úÖ Retry –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è ZIP –∞—Ä—Ö–∏–≤–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω read timeout –¥–æ 300 —Å–µ–∫—É–Ω–¥

### 3. –ó–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚úÖ 1 —Å–µ–∫—É–Ω–¥–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –º–µ—Ç–∞-XML
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É —Å–µ—Ä–≤–µ—Ä–∞

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ —É–∂–µ —Å–∫–∞—á–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ï—Å–ª–∏ –º–µ—Ç–∞-XML —É–∂–µ —Å–∫–∞—á–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è
- ‚úÖ –ï—Å–ª–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å, –Ω–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è

### 5. –°–µ—Å—Å–∏—è —Å keep-alive
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ –ó–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞

## üîÑ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000
2. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é"
3. –¢–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å retry –º–µ—Ö–∞–Ω–∏–∑–º–æ–º

–ò–ª–∏ —á–µ—Ä–µ–∑ CLI:
```bash
python -m erknm.cli sync-cmd
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ï—Å–ª–∏ –µ—Å—Ç—å —É–∂–µ —Å–∫–∞—á–∞–Ω–Ω—ã–µ –º–µ—Ç–∞-XML —Ñ–∞–π–ª—ã

–ï—Å–ª–∏ –º–µ—Ç–∞-XML —Ñ–∞–π–ª—ã –±—ã–ª–∏ —Å–∫–∞—á–∞–Ω—ã –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ:
```bash
python process_existing_files.py
```

## üìä –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
- ‚úÖ –û—à–∏–±–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è
- ‚úÖ –ó–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç—è—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –£–∂–µ —Å–∫–∞—á–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã
- ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å –±—É–¥–µ—Ç –±–æ–ª–µ–µ —É—Å—Ç–æ–π—á–∏–≤—ã–º –∫ —Å–µ—Ç–µ–≤—ã–º –ø—Ä–æ–±–ª–µ–º–∞–º

## ‚ö†Ô∏è –ï—Å–ª–∏ –æ—à–∏–±–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è

1. **–£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏** –≤ `erknm/sync/synchronizer.py`:
   ```python
   time.sleep(2.0)  # –í–º–µ—Å—Ç–æ 1.0
   ```

2. **–£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã** –≤ `erknm/parser/meta_parser.py`:
   ```python
   timeout=(20, 120)  # –í–º–µ—Å—Ç–æ (10, 60)
   ```

3. **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–ø–æ–≤:**
   - –°–Ω–∞—á–∞–ª–∞ –¥–ª—è –ø–ª–∞–Ω–æ–≤ –ø—Ä–æ–≤–µ—Ä–æ–∫
   - –ó–∞—Ç–µ–º –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–æ –≥–æ–¥–∞–º

## üìù –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `erknm/parser/meta_parser.py` - –¥–æ–±–∞–≤–ª–µ–Ω retry –∏ —É–ª—É—á—à–µ–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã
- `erknm/sync/synchronizer.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤
- `erknm/loader/zip_loader.py` - –¥–æ–±–∞–≤–ª–µ–Ω retry –¥–ª—è ZIP

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å–Ω–æ–≤–∞!







